{"version":3,"file":"giphy.js","sources":["../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js","../node_modules/query-string/index.js","../src/scripts/giphy.js","../src/scripts/index.js"],"sourcesContent":["'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tif (!obj) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\tconst keys = Object.keys(obj);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\n\nimport queryString from 'query-string';\n\nfunction search(searchQuery) {\n  const query = {\n    api_key: process.env.GIPHY_API_KEY,\n    q: searchQuery,\n  }\n\n  return fetch(`https://api.giphy.com/v1/gifs/search?${queryString.stringify(query)}&limit=5`)\n    .then(response => response.json());\n}\n\nexport default { search };\n","'use strict';\n\nimport '../styles/index.scss';\nimport giphy from './giphy';\n\nconst searchButton = document.querySelector('.search__button');\n\nconst gallery = document.querySelector('.gallery');\n\n\nconst createGif = (json) => {\n    json.data.map(gif => {\n        return gallery.innerHTML += `\n          <a class=\"gallery__item\">\n            <img src=\"${gif.images.downsized.url}\">\n          </a>\n        `\n      })\n    }\n\n    searchButton.addEventListener('click', event => {\n      event.preventDefault();\n\n      const searchField = document.querySelector('.search__field');\n      const notFound = document.querySelector('.not-found');\n\n      gallery.innerHTML = \"\"\n      notFound.textContent = \"\"\n\n      giphy\n      .search(searchField.value)\n      .then(response => {\n        if (response.data.length == 0 ) {\n          notFound.classList.add('not-found--active');\n          notFound.textContent = `We couldn't find any GIFs with the search query \"${searchField.value}\".`\n        } else {\n          createGif(response)\n        }\n      });\n      notFound.classList.remove('not-found--active');\n\n      })\n\n\n      // response => {\n      // const gallery = document.querySelector('.gallery');\n      // console.log(gallery);\n\n      // gallery.innerHTML += `\n      // <a class=\"gallery__item\">\n      //   <img src=\"${response.data[0].images.downsized.url}\">\n      // </a>\n\n\n"],"names":["module","str","encodeURIComponent","replace","x","charCodeAt","toString","toUpperCase","token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","length","left","slice","right","Array","prototype","concat","call","decode","input","tokens","match","i","customDecodeURIComponent","replaceMap","exec","result","entries","Object","keys","key","encodedURI","TypeError","encoderForArrayFormat","options","arrayFormat","value","index","encode","parserForArrayFormat","accumulator","undefined","strict","strictUriEncode","decodeComponent","keysSorter","isArray","sort","a","b","Number","map","extract","queryStart","indexOf","parse","assign","formatter","ret","create","trim","param","reduce","Boolean","exports","obj","value2","push","filter","hashStart","url","query","search","searchQuery","api_key","process","q","fetch","queryString","stringify","then","response","json","searchButton","document","querySelector","gallery","createGif","data","gif","innerHTML","images","downsized","addEventListener","event","preventDefault","searchField","notFound","textContent","giphy","classList","add","remove"],"mappings":";;;CACAA,mBAAA,GAAiBC,GAAG,IAAIC,kBAAkB,CAACD,GAAD,CAAlB,CAAwBE,OAAxB,CAAgC,UAAhC,EAA4CC,CAAC,IAAK,IAAGA,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,EAA6BC,WAA7B,EAA2C,EAAhG,CAAxB;;CCAA,IAAIC,KAAK,GAAG,cAAZ;CACA,IAAIC,aAAa,GAAG,IAAIC,MAAJ,CAAWF,KAAX,EAAkB,IAAlB,CAApB;CACA,IAAIG,YAAY,GAAG,IAAID,MAAJ,CAAW,MAAMF,KAAN,GAAc,IAAzB,EAA+B,IAA/B,CAAnB;;CAEA,SAASI,gBAAT,CAA0BC,UAA1B,EAAsCC,KAAtC,EAA6C;OACxC;;YAEIC,kBAAkB,CAACF,UAAU,CAACG,IAAX,CAAgB,EAAhB,CAAD,CAAzB;IAFD,CAGE,OAAOC,GAAP,EAAY;;;OAIVJ,UAAU,CAACK,MAAX,KAAsB,CAA1B,EAA6B;YACrBL,UAAP;;;GAGDC,KAAK,GAAGA,KAAK,IAAI,CAAjB,CAZ4C;;OAexCK,IAAI,GAAGN,UAAU,CAACO,KAAX,CAAiB,CAAjB,EAAoBN,KAApB,CAAX;OACIO,KAAK,GAAGR,UAAU,CAACO,KAAX,CAAiBN,KAAjB,CAAZ;UAEOQ,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4B,EAA5B,EAAgCb,gBAAgB,CAACO,IAAD,CAAhD,EAAwDP,gBAAgB,CAACS,KAAD,CAAxE,CAAP;;;CAGD,SAASK,MAAT,CAAgBC,KAAhB,EAAuB;OAClB;YACIZ,kBAAkB,CAACY,KAAD,CAAzB;IADD,CAEE,OAAOV,GAAP,EAAY;SACTW,MAAM,GAAGD,KAAK,CAACE,KAAN,CAAYpB,aAAZ,CAAb;;UAEK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAACV,MAA3B,EAAmCY,CAAC,EAApC,EAAwC;OACvCH,KAAK,GAAGf,gBAAgB,CAACgB,MAAD,EAASE,CAAT,CAAhB,CAA4Bd,IAA5B,CAAiC,EAAjC,CAAR;OAEAY,MAAM,GAAGD,KAAK,CAACE,KAAN,CAAYpB,aAAZ,CAAT;;;YAGMkB,KAAP;;;;CAIF,SAASI,wBAAT,CAAkCJ,KAAlC,EAAyC;;OAEpCK,UAAU,GAAG;eACN,cADM;eAEN;IAFX;OAKIH,KAAK,GAAGlB,YAAY,CAACsB,IAAb,CAAkBN,KAAlB,CAAZ;;UACOE,KAAP,EAAc;SACT;;OAEHG,UAAU,CAACH,KAAK,CAAC,CAAD,CAAN,CAAV,GAAuBd,kBAAkB,CAACc,KAAK,CAAC,CAAD,CAAN,CAAzC;MAFD,CAGE,OAAOZ,GAAP,EAAY;WACTiB,MAAM,GAAGR,MAAM,CAACG,KAAK,CAAC,CAAD,CAAN,CAAnB;;WAEIK,MAAM,KAAKL,KAAK,CAAC,CAAD,CAApB,EAAyB;SACxBG,UAAU,CAACH,KAAK,CAAC,CAAD,CAAN,CAAV,GAAuBK,MAAvB;;;;KAIFL,KAAK,GAAGlB,YAAY,CAACsB,IAAb,CAAkBN,KAAlB,CAAR;IApBuC;;;GAwBxCK,UAAU,CAAC,KAAD,CAAV,GAAoB,QAApB;OAEIG,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYL,UAAZ,CAAd;;QAEK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,OAAO,CAACjB,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;;SAEpCQ,GAAG,GAAGH,OAAO,CAACL,CAAD,CAAjB;KACAH,KAAK,GAAGA,KAAK,CAACxB,OAAN,CAAc,IAAIO,MAAJ,CAAW4B,GAAX,EAAgB,GAAhB,CAAd,EAAoCN,UAAU,CAACM,GAAD,CAA9C,CAAR;;;UAGMX,KAAP;;;CAGD3B,sBAAA,GAAiB,UAAUuC,UAAV,EAAsB;OAClC,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;WAC7B,IAAIC,SAAJ,CAAc,wDAAwD,OAAOD,UAA/D,GAA4E,GAA1F,CAAN;;;OAGG;KACHA,UAAU,GAAGA,UAAU,CAACpC,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAb,CADG;;YAIIY,kBAAkB,CAACwB,UAAD,CAAzB;IAJD,CAKE,OAAOtB,GAAP,EAAY;;YAENc,wBAAwB,CAACQ,UAAD,CAA/B;;EAZF;;CC3EA,SAASE,qBAAT,CAA+BC,OAA/B,EAAwC;WAC/BA,OAAO,CAACC,WAAhB;UACM,OAAL;cACQ,CAACL,GAAD,EAAMM,KAAN,EAAaC,KAAb,KAAuB;gBACtBD,KAAK,KAAK,IAAV,GAAiB,CACvBE,MAAM,CAACR,GAAD,EAAMI,OAAN,CADiB,EAEvB,GAFuB,EAGvBG,KAHuB,EAIvB,GAJuB,EAKtB7B,IALsB,CAKjB,EALiB,CAAjB,GAKM,CACZ8B,MAAM,CAACR,GAAD,EAAMI,OAAN,CADM,EAEZ,GAFY,EAGZI,MAAM,CAACD,KAAD,EAAQH,OAAR,CAHM,EAIZ,IAJY,EAKZI,MAAM,CAACF,KAAD,EAAQF,OAAR,CALM,EAMX1B,IANW,CAMN,EANM,CALb;QADD;;UAcI,SAAL;cACQ,CAACsB,GAAD,EAAMM,KAAN,KAAgB;gBACfA,KAAK,KAAK,IAAV,GAAiB,CAACE,MAAM,CAACR,GAAD,EAAMI,OAAN,CAAP,EAAuB,IAAvB,EAA6B1B,IAA7B,CAAkC,EAAlC,CAAjB,GAAyD,CAC/D8B,MAAM,CAACR,GAAD,EAAMI,OAAN,CADyD,EAE/D,KAF+D,EAG/DI,MAAM,CAACF,KAAD,EAAQF,OAAR,CAHyD,EAI9D1B,IAJ8D,CAIzD,EAJyD,CAAhE;QADD;;;cAQO,CAACsB,GAAD,EAAMM,KAAN,KAAgB;gBACfA,KAAK,KAAK,IAAV,GAAiBE,MAAM,CAACR,GAAD,EAAMI,OAAN,CAAvB,GAAwC,CAC9CI,MAAM,CAACR,GAAD,EAAMI,OAAN,CADwC,EAE9C,GAF8C,EAG9CI,MAAM,CAACF,KAAD,EAAQF,OAAR,CAHwC,EAI7C1B,IAJ6C,CAIxC,EAJwC,CAA/C;QADD;;;;CAUH,SAAS+B,oBAAT,CAA8BL,OAA9B,EAAuC;OAClCR,MAAJ;;WAEQQ,OAAO,CAACC,WAAhB;UACM,OAAL;cACQ,CAACL,GAAD,EAAMM,KAAN,EAAaI,WAAb,KAA6B;SACnCd,MAAM,GAAG,aAAaD,IAAb,CAAkBK,GAAlB,CAAT;SAEAA,GAAG,GAAGA,GAAG,CAACnC,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,CAAN;;aAEI,CAAC+B,MAAL,EAAa;WACZc,WAAW,CAACV,GAAD,CAAX,GAAmBM,KAAnB;;;;aAIGI,WAAW,CAACV,GAAD,CAAX,KAAqBW,SAAzB,EAAoC;WACnCD,WAAW,CAACV,GAAD,CAAX,GAAmB,EAAnB;;;SAGDU,WAAW,CAACV,GAAD,CAAX,CAAiBJ,MAAM,CAAC,CAAD,CAAvB,IAA8BU,KAA9B;QAdD;;UAgBI,SAAL;cACQ,CAACN,GAAD,EAAMM,KAAN,EAAaI,WAAb,KAA6B;SACnCd,MAAM,GAAG,UAAUD,IAAV,CAAeK,GAAf,CAAT;SACAA,GAAG,GAAGA,GAAG,CAACnC,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;;aAEI,CAAC+B,MAAL,EAAa;WACZc,WAAW,CAACV,GAAD,CAAX,GAAmBM,KAAnB;;;;aAIGI,WAAW,CAACV,GAAD,CAAX,KAAqBW,SAAzB,EAAoC;WACnCD,WAAW,CAACV,GAAD,CAAX,GAAmB,CAACM,KAAD,CAAnB;;;;SAIDI,WAAW,CAACV,GAAD,CAAX,GAAmB,GAAGd,MAAH,CAAUwB,WAAW,CAACV,GAAD,CAArB,EAA4BM,KAA5B,CAAnB;QAdD;;;cAiBO,CAACN,GAAD,EAAMM,KAAN,EAAaI,WAAb,KAA6B;aAC/BA,WAAW,CAACV,GAAD,CAAX,KAAqBW,SAAzB,EAAoC;WACnCD,WAAW,CAACV,GAAD,CAAX,GAAmBM,KAAnB;;;;SAIDI,WAAW,CAACV,GAAD,CAAX,GAAmB,GAAGd,MAAH,CAAUwB,WAAW,CAACV,GAAD,CAArB,EAA4BM,KAA5B,CAAnB;QAND;;;;CAWH,SAASE,MAAT,CAAgBF,KAAhB,EAAuBF,OAAvB,EAAgC;OAC3BA,OAAO,CAACI,MAAZ,EAAoB;YACZJ,OAAO,CAACQ,MAAR,GAAiBC,eAAe,CAACP,KAAD,CAAhC,GAA0C1C,kBAAkB,CAAC0C,KAAD,CAAnE;;;UAGMA,KAAP;;;CAGD,SAASlB,QAAT,CAAgBkB,KAAhB,EAAuBF,OAAvB,EAAgC;OAC3BA,OAAO,CAAChB,MAAZ,EAAoB;YACZ0B,kBAAe,CAACR,KAAD,CAAtB;;;UAGMA,KAAP;;;CAGD,SAASS,UAAT,CAAoB1B,KAApB,EAA2B;OACtBL,KAAK,CAACgC,OAAN,CAAc3B,KAAd,CAAJ,EAA0B;YAClBA,KAAK,CAAC4B,IAAN,EAAP;;;OAGG,OAAO5B,KAAP,KAAiB,QAArB,EAA+B;YACvB0B,UAAU,CAACjB,MAAM,CAACC,IAAP,CAAYV,KAAZ,CAAD,CAAV,CACL4B,IADK,CACA,CAACC,CAAD,EAAIC,CAAJ,KAAUC,MAAM,CAACF,CAAD,CAAN,GAAYE,MAAM,CAACD,CAAD,CAD5B,EAELE,GAFK,CAEDrB,GAAG,IAAIX,KAAK,CAACW,GAAD,CAFX,CAAP;;;UAKMX,KAAP;;;CAGD,SAASiC,OAAT,CAAiBjC,KAAjB,EAAwB;SACjBkC,UAAU,GAAGlC,KAAK,CAACmC,OAAN,CAAc,GAAd,CAAnB;;OACID,UAAU,KAAK,CAAC,CAApB,EAAuB;YACf,EAAP;;;UAGMlC,KAAK,CAACP,KAAN,CAAYyC,UAAU,GAAG,CAAzB,CAAP;;;CAGD,SAASE,KAAT,CAAepC,KAAf,EAAsBe,OAAtB,EAA+B;GAC9BA,OAAO,GAAGN,MAAM,CAAC4B,MAAP,CAAc;KAACtC,MAAM,EAAE,IAAT;KAAeiB,WAAW,EAAE;IAA1C,EAAmDD,OAAnD,CAAV;SAEMuB,SAAS,GAAGlB,oBAAoB,CAACL,OAAD,CAAtC,CAH8B;;SAMxBwB,GAAG,GAAG9B,MAAM,CAAC+B,MAAP,CAAc,IAAd,CAAZ;;OAEI,OAAOxC,KAAP,KAAiB,QAArB,EAA+B;YACvBuC,GAAP;;;GAGDvC,KAAK,GAAGA,KAAK,CAACyC,IAAN,GAAajE,OAAb,CAAqB,QAArB,EAA+B,EAA/B,CAAR;;OAEI,CAACwB,KAAL,EAAY;YACJuC,GAAP;;;QAGI,MAAMG,KAAX,IAAoB1C,KAAK,CAACb,KAAN,CAAY,GAAZ,CAApB,EAAsC;SACjC,CAACwB,GAAD,EAAMM,KAAN,IAAeyB,KAAK,CAAClE,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0BW,KAA1B,CAAgC,GAAhC,CAAnB,CADqC;;;KAKrC8B,KAAK,GAAGA,KAAK,KAAKK,SAAV,GAAsB,IAAtB,GAA6BvB,QAAM,CAACkB,KAAD,EAAQF,OAAR,CAA3C;KAEAuB,SAAS,CAACvC,QAAM,CAACY,GAAD,EAAMI,OAAN,CAAP,EAAuBE,KAAvB,EAA8BsB,GAA9B,CAAT;;;UAGM9B,MAAM,CAACC,IAAP,CAAY6B,GAAZ,EAAiBX,IAAjB,GAAwBe,MAAxB,CAA+B,CAACpC,MAAD,EAASI,GAAT,KAAiB;WAChDM,KAAK,GAAGsB,GAAG,CAAC5B,GAAD,CAAjB;;SACIiC,OAAO,CAAC3B,KAAD,CAAP,IAAkB,OAAOA,KAAP,KAAiB,QAAnC,IAA+C,CAACtB,KAAK,CAACgC,OAAN,CAAcV,KAAd,CAApD,EAA0E;;OAEzEV,MAAM,CAACI,GAAD,CAAN,GAAce,UAAU,CAACT,KAAD,CAAxB;MAFD,MAGO;OACNV,MAAM,CAACI,GAAD,CAAN,GAAcM,KAAd;;;YAGMV,MAAP;IATM,EAUJE,MAAM,CAAC+B,MAAP,CAAc,IAAd,CAVI,CAAP;;;CAaDK,aAAA,GAAkBZ,OAAlB;CACAY,WAAA,GAAgBT,KAAhB;;CAEAS,aAAA,GAAoB,CAACC,GAAD,EAAM/B,OAAN,KAAkB;OACjC,CAAC+B,GAAL,EAAU;YACF,EAAP;;;GAGD/B,OAAO,GAAGN,MAAM,CAAC4B,MAAP,CAAc;KACvBlB,MAAM,EAAE,IADe;KAEvBI,MAAM,EAAE,IAFe;KAGvBP,WAAW,EAAE;IAHJ,EAIPD,OAJO,CAAV;SAMMuB,SAAS,GAAGxB,qBAAqB,CAACC,OAAD,CAAvC;SACML,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYoC,GAAZ,CAAb;;OAEI/B,OAAO,CAACa,IAAR,KAAiB,KAArB,EAA4B;KAC3BlB,IAAI,CAACkB,IAAL,CAAUb,OAAO,CAACa,IAAlB;;;UAGMlB,IAAI,CAACsB,GAAL,CAASrB,GAAG,IAAI;WAChBM,KAAK,GAAG6B,GAAG,CAACnC,GAAD,CAAjB;;SAEIM,KAAK,KAAKK,SAAd,EAAyB;cACjB,EAAP;;;SAGGL,KAAK,KAAK,IAAd,EAAoB;cACZE,MAAM,CAACR,GAAD,EAAMI,OAAN,CAAb;;;SAGGpB,KAAK,CAACgC,OAAN,CAAcV,KAAd,CAAJ,EAA0B;aACnBV,MAAM,GAAG,EAAf;;YAEK,MAAMwC,MAAX,IAAqB9B,KAAK,CAACxB,KAAN,EAArB,EAAoC;aAC/BsD,MAAM,KAAKzB,SAAf,EAA0B;;;;SAI1Bf,MAAM,CAACyC,IAAP,CAAYV,SAAS,CAAC3B,GAAD,EAAMoC,MAAN,EAAcxC,MAAM,CAAChB,MAArB,CAArB;;;cAGMgB,MAAM,CAAClB,IAAP,CAAY,GAAZ,CAAP;;;YAGM8B,MAAM,CAACR,GAAD,EAAMI,OAAN,CAAN,GAAuB,GAAvB,GAA6BI,MAAM,CAACF,KAAD,EAAQF,OAAR,CAA1C;IAzBM,EA0BJkC,MA1BI,CA0BGxE,CAAC,IAAIA,CAAC,CAACc,MAAF,GAAW,CA1BnB,EA0BsBF,IA1BtB,CA0B2B,GA1B3B,CAAP;EAlBD;;CA+CAwD,YAAA,GAAmB,CAAC7C,KAAD,EAAQe,OAAR,KAAoB;SAChCmC,SAAS,GAAGlD,KAAK,CAACmC,OAAN,CAAc,GAAd,CAAlB;;OACIe,SAAS,KAAK,CAAC,CAAnB,EAAsB;KACrBlD,KAAK,GAAGA,KAAK,CAACP,KAAN,CAAY,CAAZ,EAAeyD,SAAf,CAAR;;;UAGM;KACNC,GAAG,EAAEnD,KAAK,CAACb,KAAN,CAAY,GAAZ,EAAiB,CAAjB,KAAuB,EADtB;KAENiE,KAAK,EAAEhB,KAAK,CAACH,OAAO,CAACjC,KAAD,CAAR,EAAiBe,OAAjB;IAFb;EAND;;;;;;;;;CCxNA,SAASsC,MAAT,CAAgBC,WAAhB,EAA6B;CAC3B,QAAMF,KAAK,GAAG;CACZG,IAAAA,OAAO,EAAEC;CACTC,IAAAA,CAAC,EAAEH;CAFS,GAAd;CAKA,SAAOI,KAAK,CAAE,wCAAuCC,WAAW,CAACC,SAAZ,CAAsBR,KAAtB,CAA6B,UAAtE,CAAL,CACJS,IADI,CACCC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADb,CAAP;CAED;;AAED,aAAe;CAAEV,EAAAA;CAAF,CAAf;;CCTA,MAAMW,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAArB;CAEA,MAAMC,OAAO,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAhB;;CAGA,MAAME,SAAS,GAAIL,IAAD,IAAU;CACxBA,EAAAA,IAAI,CAACM,IAAL,CAAUrC,GAAV,CAAcsC,GAAG,IAAI;CACjB,WAAOH,OAAO,CAACI,SAAR,IAAsB;;wBAEbD,GAAG,CAACE,MAAJ,CAAWC,SAAX,CAAqBtB,GAAI;;SAFzC;CAKD,GANH;CAOC,CARL;;CAUIa,YAAY,CAACU,gBAAb,CAA8B,OAA9B,EAAuCC,KAAK,IAAI;CAC9CA,EAAAA,KAAK,CAACC,cAAN;CAEA,QAAMC,WAAW,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAApB;CACA,QAAMY,QAAQ,GAAGb,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;CAEAC,EAAAA,OAAO,CAACI,SAAR,GAAoB,EAApB;CACAO,EAAAA,QAAQ,CAACC,WAAT,GAAuB,EAAvB;CAEAC,EAAAA,KAAK,CACJ3B,MADD,CACQwB,WAAW,CAAC5D,KADpB,EAEC4C,IAFD,CAEMC,QAAQ,IAAI;CAChB,QAAIA,QAAQ,CAACO,IAAT,CAAc9E,MAAd,IAAwB,CAA5B,EAAgC;CAC9BuF,MAAAA,QAAQ,CAACG,SAAT,CAAmBC,GAAnB,CAAuB,mBAAvB;CACAJ,MAAAA,QAAQ,CAACC,WAAT,GAAwB,oDAAmDF,WAAW,CAAC5D,KAAM,IAA7F;CACD,KAHD,MAGO;CACLmD,MAAAA,SAAS,CAACN,QAAD,CAAT;CACD;CACF,GATD;CAUAgB,EAAAA,QAAQ,CAACG,SAAT,CAAmBE,MAAnB,CAA0B,mBAA1B;CAEC,CArBH;CAyBE;CACA;CAEA;CACA;CACA;CACA;;;;"}